module.exports = { contents: "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.actionReducers = exports.initialState = exports.namespace = undefined;\n\nvar _regenerator = require('babel-runtime/regenerator');\n\nvar _regenerator2 = _interopRequireDefault(_regenerator);\n\nvar _entries = require('babel-runtime/core-js/object/entries');\n\nvar _entries2 = _interopRequireDefault(_entries);\n\nvar _immutable = require('immutable');\n\nvar _reduxAutomap = require('redux-automap');\n\nvar _reselect = require('reselect');\n\nvar _axios = require('axios');\n\nvar _axios2 = _interopRequireDefault(_axios);\n\nvar _effects = require('redux-saga/effects');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n(function () {\n  var enterModule = require('react-hot-loader').enterModule;\n\n  enterModule && enterModule(module);\n})();\n\nvar _marked = /*#__PURE__*/_regenerator2.default.mark(watcherSaga),\n    _marked2 = /*#__PURE__*/_regenerator2.default.mark(fetchPackageInfo);\n\nvar namespace = exports.namespace = 'api';\n\nvar byName = function byName(a, b) {\n  return a.name < b.name ? -1 : a.name > b.name ? 1 : 0;\n};\nvar toDepsArray = function toDepsArray(deps) {\n  return deps && (0, _entries2.default)(deps.toJS()).map(function (i) {\n    return { name: i[0], version: i[1] };\n  }).sort(byName);\n};\n\nvar getPackage = function getPackage(state) {\n  return state.getIn(['package']);\n};\nvar getTimesLoaded = function getTimesLoaded(state) {\n  return state.get('timesLoaded');\n};\nvar getDependencies = function getDependencies(state) {\n  return state.getIn(['package', 'data', 'dependencies']);\n};\nvar getDevDependencies = function getDevDependencies(state) {\n  return state.getIn(['package', 'data', 'devDependencies']);\n};\nvar getDependenciesAsArray = (0, _reselect.createSelector)([getDependencies], toDepsArray);\nvar getDevDependenciesAsArray = (0, _reselect.createSelector)([getDevDependencies], toDepsArray);\n\nvar selectors = {\n  getPackage: getPackage,\n  getTimesLoaded: getTimesLoaded,\n  getDependencies: getDependencies,\n  getDevDependencies: getDevDependencies,\n  getDependenciesAsArray: getDependenciesAsArray,\n  getDevDependenciesAsArray: getDevDependenciesAsArray\n};\n\nvar Resource = (0, _immutable.Record)({\n  isLoading: false,\n  success: undefined,\n  error: undefined,\n  data: undefined\n});\n\n// initial state for reducer\nvar initialState = exports.initialState = (0, _immutable.fromJS)({\n  package: new Resource(),\n  timesLoaded: 0\n});\n\n// watcher saga: watches for actions dispatched to the store, starts worker saga\nfunction watcherSaga() {\n  return _regenerator2.default.wrap(function watcherSaga$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          _context.next = 2;\n          return (0, _effects.takeLatest)('api/LOAD_PACKAGE_INFO', fetchPackageInfo);\n\n        case 2:\n        case 'end':\n          return _context.stop();\n      }\n    }\n  }, _marked, this);\n}\n\nfunction fetchPackageInfo() {\n  var data;\n  return _regenerator2.default.wrap(function fetchPackageInfo$(_context2) {\n    while (1) {\n      switch (_context2.prev = _context2.next) {\n        case 0:\n          console.log('fetchPackageInfo saga triggered');\n          _context2.prev = 1;\n          _context2.next = 4;\n          return (0, _effects.call)(function () {\n            return _axios2.default.get('/package.json').then(function (r) {\n              return (0, _immutable.fromJS)(r.data);\n            });\n          });\n\n        case 4:\n          data = _context2.sent;\n          _context2.next = 7;\n          return (0, _effects.put)({ type: \"api/LOAD_PACKAGE_INFO_SUCCESS\", data: data });\n\n        case 7:\n          _context2.next = 14;\n          break;\n\n        case 9:\n          _context2.prev = 9;\n          _context2.t0 = _context2['catch'](1);\n\n          console.log('error', _context2.t0);\n          _context2.next = 14;\n          return (0, _effects.put)({ type: \"api/LOAD_PACKAGE_INFO_ERROR\", error: _context2.t0.message });\n\n        case 14:\n        case 'end':\n          return _context2.stop();\n      }\n    }\n  }, _marked2, this, [[1, 9]]);\n}\n\nvar sagas = {\n  watcherSaga: watcherSaga,\n  fetchPackageInfo: fetchPackageInfo\n\n  // define all action/reducer pairs here... add \"type\" attributes for\n};var actionReducers = exports.actionReducers = [{\n  loadPackageInfo: function loadPackageInfo() {\n    return { type: 'api/LOAD_PACKAGE_INFO' };\n  },\n  reducer: function reducer(state) {\n    return state.set('package', new Resource({ isLoading: true, data: state.getIn(['package', 'data']) }));\n  }\n}, {\n  loadPackageInfoSuccess: function loadPackageInfoSuccess(data) {\n    return { type: 'api/LOAD_PACKAGE_INFO_SUCCESS', data: data };\n  },\n  reducer: function reducer(state, action) {\n    return state.set('package', new Resource({ isLoading: false, success: true, data: action.data })).update('timesLoaded', function (count) {\n      return count + 1;\n    });\n  }\n}, {\n  loadPackageInfoError: function loadPackageInfoError(error) {\n    return { type: 'api/LOAD_PACKAGE_INFO_ERROR', error: error };\n  },\n  reducer: function reducer(state, action) {\n    return state.set('package', new Resource({ error: action.error, success: false }));\n  }\n}];\n\nvar _default = (0, _reduxAutomap.automap)({ sagas: sagas, namespace: namespace, actionReducers: actionReducers, initialState: initialState, selectors: selectors });\n\nexports.default = _default;\n;\n\n(function () {\n  var reactHotLoader = require('react-hot-loader').default;\n\n  var leaveModule = require('react-hot-loader').leaveModule;\n\n  if (!reactHotLoader) {\n    return;\n  }\n\n  reactHotLoader.register(namespace, 'namespace', 'unknown');\n  reactHotLoader.register(byName, 'byName', 'unknown');\n  reactHotLoader.register(toDepsArray, 'toDepsArray', 'unknown');\n  reactHotLoader.register(getPackage, 'getPackage', 'unknown');\n  reactHotLoader.register(getTimesLoaded, 'getTimesLoaded', 'unknown');\n  reactHotLoader.register(getDependencies, 'getDependencies', 'unknown');\n  reactHotLoader.register(getDevDependencies, 'getDevDependencies', 'unknown');\n  reactHotLoader.register(getDependenciesAsArray, 'getDependenciesAsArray', 'unknown');\n  reactHotLoader.register(getDevDependenciesAsArray, 'getDevDependenciesAsArray', 'unknown');\n  reactHotLoader.register(selectors, 'selectors', 'unknown');\n  reactHotLoader.register(Resource, 'Resource', 'unknown');\n  reactHotLoader.register(initialState, 'initialState', 'unknown');\n  reactHotLoader.register(watcherSaga, 'watcherSaga', 'unknown');\n  reactHotLoader.register(fetchPackageInfo, 'fetchPackageInfo', 'unknown');\n  reactHotLoader.register(sagas, 'sagas', 'unknown');\n  reactHotLoader.register(actionReducers, 'actionReducers', 'unknown');\n  reactHotLoader.register(_default, 'default', 'unknown');\n  leaveModule(module);\n})();\n\n;",
dependencies: ["babel-runtime/regenerator","babel-runtime/core-js/object/entries","immutable","redux-automap","reselect","axios","redux-saga/effects","react-hot-loader","react-hot-loader","react-hot-loader"],
sourceMap: {},
headerContent: undefined,
mtime: 1529006029917,
devLibsRequired : undefined,
ac : undefined,
_ : {}
}
