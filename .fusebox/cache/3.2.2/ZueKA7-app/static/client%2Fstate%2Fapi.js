module.exports = { contents: "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.actionReducers = exports.initialState = exports.namespace = undefined;\n\nvar _regenerator = require('babel-runtime/regenerator');\n\nvar _regenerator2 = _interopRequireDefault(_regenerator);\n\nvar _entries = require('babel-runtime/core-js/object/entries');\n\nvar _entries2 = _interopRequireDefault(_entries);\n\nvar _immutable = require('immutable');\n\nvar _reduxAutomap = require('redux-automap');\n\nvar _reselect = require('reselect');\n\nvar _axios = require('axios');\n\nvar _axios2 = _interopRequireDefault(_axios);\n\nvar _effects = require('redux-saga/effects');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n(function () {\n  var enterModule = require('react-hot-loader').enterModule;\n\n  enterModule && enterModule(module);\n})();\n\nvar _marked = /*#__PURE__*/_regenerator2.default.mark(watcherSaga),\n    _marked2 = /*#__PURE__*/_regenerator2.default.mark(fetchPackageInfo);\n\nvar namespace = exports.namespace = 'api';\n\nvar byName = function byName(a, b) {\n  return a.name < b.name ? -1 : a.name > b.name ? 1 : 0;\n};\nvar toDepsArray = function toDepsArray(deps) {\n  return deps && (0, _entries2.default)(deps.toJS()).map(function (i) {\n    return { name: i[0], version: i[1] };\n  }).sort(byName);\n};\n\nvar getPackage = function getPackage(state) {\n  return state.getIn(['package']);\n};\nvar getTimesLoaded = function getTimesLoaded(state) {\n  return state.get('timesLoaded');\n};\nvar getDependencies = function getDependencies(state) {\n  return state.getIn(['package', 'data', 'dependencies']);\n};\nvar getDevDependencies = function getDevDependencies(state) {\n  return state.getIn(['package', 'data', 'devDependencies']);\n};\nvar getDependenciesAsArray = (0, _reselect.createSelector)([getDependencies], toDepsArray);\nvar getDevDependenciesAsArray = (0, _reselect.createSelector)([getDevDependencies], toDepsArray);\n\nvar selectors = {\n  getPackage: getPackage,\n  getTimesLoaded: getTimesLoaded,\n  getDependencies: getDependencies,\n  getDevDependencies: getDevDependencies,\n  getDependenciesAsArray: getDependenciesAsArray,\n  getDevDependenciesAsArray: getDevDependenciesAsArray\n};\n\nvar Resource = (0, _immutable.Record)({\n  isLoading: false,\n  success: undefined,\n  error: undefined,\n  data: undefined\n});\n\n// initial state for reducer\nvar initialState = exports.initialState = (0, _immutable.fromJS)({\n  package: new Resource(),\n  timesLoaded: 0\n});\n\n// watcher saga: watches for actions dispatched to the store, starts worker saga\nfunction watcherSaga() {\n  return _regenerator2.default.wrap(function watcherSaga$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          _context.next = 2;\n          return (0, _effects.takeLatest)('api/LOAD_PACKAGE_INFO', fetchPackageInfo);\n\n        case 2:\n        case 'end':\n          return _context.stop();\n      }\n    }\n  }, _marked, this);\n}\n\nfunction fetchPackageInfo() {\n  var data;\n  return _regenerator2.default.wrap(function fetchPackageInfo$(_context2) {\n    while (1) {\n      switch (_context2.prev = _context2.next) {\n        case 0:\n          console.log('fetchPackageInfo saga triggered');\n          _context2.prev = 1;\n          _context2.next = 4;\n          return (0, _effects.call)(function () {\n            return _axios2.default.get('/package.json').then(function (r) {\n              return (0, _immutable.fromJS)(r.data);\n            });\n          });\n\n        case 4:\n          data = _context2.sent;\n          _context2.next = 7;\n          return (0, _effects.put)({ type: \"api/LOAD_PACKAGE_INFO_SUCCESS\", data: data });\n\n        case 7:\n          _context2.next = 14;\n          break;\n\n        case 9:\n          _context2.prev = 9;\n          _context2.t0 = _context2['catch'](1);\n\n          console.log('error', _context2.t0);\n          _context2.next = 14;\n          return (0, _effects.put)({ type: \"api/LOAD_PACKAGE_INFO_ERROR\", error: _context2.t0.message });\n\n        case 14:\n        case 'end':\n          return _context2.stop();\n      }\n    }\n  }, _marked2, this, [[1, 9]]);\n}\n\nvar sagas = {\n  watcherSaga: watcherSaga,\n  fetchPackageInfo: fetchPackageInfo\n\n  // define all action/reducer pairs here... add \"type\" attributes for\n};var actionReducers = exports.actionReducers = [{\n  loadPackageInfo: function loadPackageInfo() {\n    return { type: 'api/LOAD_PACKAGE_INFO' };\n  },\n  reducer: function reducer(state) {\n    return state.set('package', new Resource({ isLoading: true, data: state.getIn(['package', 'data']) }));\n  }\n}, {\n  loadPackageInfoSuccess: function loadPackageInfoSuccess(data) {\n    return { type: 'api/LOAD_PACKAGE_INFO_SUCCESS', data: data };\n  },\n  reducer: function reducer(state, action) {\n    return state.set('package', new Resource({ isLoading: false, success: true, data: action.data })).update('timesLoaded', function (count) {\n      return count + 1;\n    });\n  }\n}, {\n  loadPackageInfoError: function loadPackageInfoError(error) {\n    return { type: 'api/LOAD_PACKAGE_INFO_ERROR', error: error };\n  },\n  reducer: function reducer(state, action) {\n    return state.set('package', new Resource({ error: action.error, success: false }));\n  }\n}];\n\nvar _default = (0, _reduxAutomap.automap)({ sagas: sagas, namespace: namespace, actionReducers: actionReducers, initialState: initialState, selectors: selectors });\n\nexports.default = _default;\n;\n\n(function () {\n  var reactHotLoader = require('react-hot-loader').default;\n\n  var leaveModule = require('react-hot-loader').leaveModule;\n\n  if (!reactHotLoader) {\n    return;\n  }\n\n  reactHotLoader.register(namespace, 'namespace', 'unknown');\n  reactHotLoader.register(byName, 'byName', 'unknown');\n  reactHotLoader.register(toDepsArray, 'toDepsArray', 'unknown');\n  reactHotLoader.register(getPackage, 'getPackage', 'unknown');\n  reactHotLoader.register(getTimesLoaded, 'getTimesLoaded', 'unknown');\n  reactHotLoader.register(getDependencies, 'getDependencies', 'unknown');\n  reactHotLoader.register(getDevDependencies, 'getDevDependencies', 'unknown');\n  reactHotLoader.register(getDependenciesAsArray, 'getDependenciesAsArray', 'unknown');\n  reactHotLoader.register(getDevDependenciesAsArray, 'getDevDependenciesAsArray', 'unknown');\n  reactHotLoader.register(selectors, 'selectors', 'unknown');\n  reactHotLoader.register(Resource, 'Resource', 'unknown');\n  reactHotLoader.register(initialState, 'initialState', 'unknown');\n  reactHotLoader.register(watcherSaga, 'watcherSaga', 'unknown');\n  reactHotLoader.register(fetchPackageInfo, 'fetchPackageInfo', 'unknown');\n  reactHotLoader.register(sagas, 'sagas', 'unknown');\n  reactHotLoader.register(actionReducers, 'actionReducers', 'unknown');\n  reactHotLoader.register(_default, 'default', 'unknown');\n  leaveModule(module);\n})();\n\n;",
dependencies: ["babel-runtime/regenerator","babel-runtime/core-js/object/entries","immutable","redux-automap","reselect","axios","redux-saga/effects","react-hot-loader","react-hot-loader","react-hot-loader"],
sourceMap: "{\"version\":3,\"sources\":[\"/client/state/api.js\"],\"names\":[\"watcherSaga\",\"fetchPackageInfo\",\"namespace\",\"byName\",\"a\",\"b\",\"name\",\"toDepsArray\",\"deps\",\"toJS\",\"map\",\"i\",\"version\",\"sort\",\"getPackage\",\"state\",\"getIn\",\"getTimesLoaded\",\"get\",\"getDependencies\",\"getDevDependencies\",\"getDependenciesAsArray\",\"getDevDependenciesAsArray\",\"selectors\",\"Resource\",\"isLoading\",\"success\",\"undefined\",\"error\",\"data\",\"initialState\",\"package\",\"timesLoaded\",\"console\",\"log\",\"axios\",\"then\",\"r\",\"type\",\"message\",\"sagas\",\"actionReducers\",\"loadPackageInfo\",\"reducer\",\"set\",\"loadPackageInfoSuccess\",\"action\",\"update\",\"count\",\"loadPackageInfoError\"],\"mappings\":\";;;;;;;;;;;;;;;AAAA;;AACA;;AACA;;AACA;;;;AACA;;;;;;;;;;sDAwCUA,W;uDAIAC,gB;;AA1CH,IAAMC,gCAAY,KAAlB;;AAEP,IAAMC,SAAS,SAATA,MAAS,CAACC,CAAD,EAAIC,CAAJ;AAAA,SAAUD,EAAEE,IAAF,GAASD,EAAEC,IAAX,GAAkB,CAAC,CAAnB,GAAwBF,EAAEE,IAAF,GAASD,EAAEC,IAAX,GAAkB,CAAlB,GAAsB,CAAxD;AAAA,CAAf;AACA,IAAMC,cAAc,SAAdA,WAAc;AAAA,SAAQC,QAAQ,uBACWA,KAAKC,IAAL,EADX,EAEGC,GAFH,CAEO;AAAA,WAAM,EAAEJ,MAAMK,EAAE,CAAF,CAAR,EAAcC,SAASD,EAAE,CAAF,CAAvB,EAAN;AAAA,GAFP,EAGGE,IAHH,CAGQV,MAHR,CAAhB;AAAA,CAApB;;AAKA,IAAMW,aAAa,SAAbA,UAAa;AAAA,SAASC,MAAMC,KAAN,CAAY,CAAC,SAAD,CAAZ,CAAT;AAAA,CAAnB;AACA,IAAMC,iBAAiB,SAAjBA,cAAiB;AAAA,SAASF,MAAMG,GAAN,CAAU,aAAV,CAAT;AAAA,CAAvB;AACA,IAAMC,kBAAkB,SAAlBA,eAAkB;AAAA,SAASJ,MAAMC,KAAN,CAAY,CAAC,SAAD,EAAY,MAAZ,EAAoB,cAApB,CAAZ,CAAT;AAAA,CAAxB;AACA,IAAMI,qBAAqB,SAArBA,kBAAqB;AAAA,SAASL,MAAMC,KAAN,CAAY,CAAC,SAAD,EAAY,MAAZ,EAAoB,iBAApB,CAAZ,CAAT;AAAA,CAA3B;AACA,IAAMK,yBAAyB,8BAAe,CAAEF,eAAF,CAAf,EAAoCZ,WAApC,CAA/B;AACA,IAAMe,4BAA4B,8BAAe,CAAEF,kBAAF,CAAf,EAAuCb,WAAvC,CAAlC;;AAEA,IAAMgB,YAAY;AAChBT,wBADgB;AAEhBG,gCAFgB;AAGhBE,kCAHgB;AAIhBC,wCAJgB;AAKhBC,gDALgB;AAMhBC;AANgB,CAAlB;;AASA,IAAME,WAAW,uBAAO;AACtBC,aAAW,KADW;AAEtBC,WAASC,SAFa;AAGtBC,SAAOD,SAHe;AAItBE,QAAMF;AAJgB,CAAP,CAAjB;;AAOA;AACO,IAAMG,sCAAe,uBAAO;AACjCC,WAAS,IAAIP,QAAJ,EADwB;AAEjCQ,eAAa;AAFoB,CAAP,CAArB;;AAKP;AACA,SAAUhC,WAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBACQ,yBAAW,uBAAX,EAAoCC,gBAApC,CADR;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAIA,SAAUA,gBAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AACEgC,kBAAQC,GAAR,CAAY,iCAAZ;AADF;AAAA;AAAA,iBAGuB,mBAAK;AAAA,mBAAMC,gBAAMjB,GAAN,CAAU,eAAV,EAA2BkB,IAA3B,CAAgC;AAAA,qBAAK,uBAAOC,EAAER,IAAT,CAAL;AAAA,aAAhC,CAAN;AAAA,WAAL,CAHvB;;AAAA;AAGUA,cAHV;AAAA;AAAA,iBAIU,kBAAI,EAAES,MAAM,+BAAR,EAAyCT,UAAzC,EAAJ,CAJV;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAMII,kBAAQC,GAAR,CAAY,OAAZ;AANJ;AAAA,iBAOU,kBAAI,EAAEI,MAAM,6BAAR,EAAuCV,OAAO,aAAMW,OAApD,EAAJ,CAPV;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAYA,IAAMC,QAAQ;AACZxC,0BADY;AAEZC;;AAGF;AALc,CAAd,CAMO,IAAMwC,0CAAiB,CAC5B;AACEC,mBAAiB;AAAA,WAAO,EAAEJ,MAAM,uBAAR,EAAP;AAAA,GADnB;AAEEK,WAAS;AAAA,WAAS5B,MAAM6B,GAAN,CAAU,SAAV,EAAqB,IAAIpB,QAAJ,CAAa,EAAEC,WAAW,IAAb,EAAmBI,MAAMd,MAAMC,KAAN,CAAY,CAAC,SAAD,EAAY,MAAZ,CAAZ,CAAzB,EAAb,CAArB,CAAT;AAAA;AAFX,CAD4B,EAK5B;AACE6B,0BAAwB,gCAAChB,IAAD;AAAA,WAAW,EAAES,MAAM,+BAAR,EAAyCT,UAAzC,EAAX;AAAA,GAD1B;AAEEc,WAAS,iBAAC5B,KAAD,EAAQ+B,MAAR;AAAA,WAAmB/B,MACG6B,GADH,CACO,SADP,EACkB,IAAIpB,QAAJ,CAAa,EAAEC,WAAW,KAAb,EAAoBC,SAAS,IAA7B,EAAmCG,MAAMiB,OAAOjB,IAAhD,EAAb,CADlB,EAEGkB,MAFH,CAEU,aAFV,EAEyB;AAAA,aAASC,QAAQ,CAAjB;AAAA,KAFzB,CAAnB;AAAA;AAFX,CAL4B,EAW5B;AACEC,wBAAsB,8BAACrB,KAAD;AAAA,WAAY,EAAEU,MAAM,6BAAR,EAAuCV,YAAvC,EAAZ;AAAA,GADxB;AAEEe,WAAS,iBAAC5B,KAAD,EAAQ+B,MAAR;AAAA,WAAmB/B,MAAM6B,GAAN,CAAU,SAAV,EAAqB,IAAIpB,QAAJ,CAAa,EAAEI,OAAOkB,OAAOlB,KAAhB,EAAuBF,SAAS,KAAhC,EAAb,CAArB,CAAnB;AAAA;AAFX,CAX4B,CAAvB;;eAiBQ,2BAAQ,EAAEc,YAAF,EAAStC,oBAAT,EAAoBuC,8BAApB,EAAoCX,0BAApC,EAAkDP,oBAAlD,EAAR,C;;;;;;;;;;;;;;0BA7EFrB,S;0BAEPC,M;0BACAI,W;0BAKAO,U;0BACAG,c;0BACAE,e;0BACAC,kB;0BACAC,sB;0BACAC,yB;0BAEAC,S;0BASAC,Q;0BAQOM,Y;0BAMH9B,W;0BAIAC,gB;0BAYJuC,K;0BAMOC,c\",\"file\":\"client/state/api.js\",\"sourcesContent\":[\"import { Map, List, fromJS, Record } from 'immutable'\\nimport { automap } from 'redux-automap'\\nimport { createSelector } from 'reselect'\\nimport axios from 'axios'\\nimport { call, put, takeLatest, delay } from 'redux-saga/effects'\\n\\nexport const namespace = 'api'\\n\\nconst byName = (a, b) => a.name < b.name ? -1 : (a.name > b.name ? 1 : 0)\\nconst toDepsArray = deps => deps && Object\\n                                      .entries(deps.toJS())\\n                                      .map(i => ({ name: i[0], version: i[1] }))\\n                                      .sort(byName)\\n\\nconst getPackage = state => state.getIn(['package'])\\nconst getTimesLoaded = state => state.get('timesLoaded')\\nconst getDependencies = state => state.getIn(['package', 'data', 'dependencies'])\\nconst getDevDependencies = state => state.getIn(['package', 'data', 'devDependencies'])\\nconst getDependenciesAsArray = createSelector([ getDependencies ], toDepsArray)\\nconst getDevDependenciesAsArray = createSelector([ getDevDependencies ], toDepsArray)\\n\\nconst selectors = {\\n  getPackage,\\n  getTimesLoaded,\\n  getDependencies,\\n  getDevDependencies,\\n  getDependenciesAsArray,\\n  getDevDependenciesAsArray\\n}\\n\\nconst Resource = Record({\\n  isLoading: false,\\n  success: undefined,\\n  error: undefined,\\n  data: undefined\\n})\\n\\n// initial state for reducer\\nexport const initialState = fromJS({\\n  package: new Resource,\\n  timesLoaded: 0,\\n})\\n\\n// watcher saga: watches for actions dispatched to the store, starts worker saga\\nfunction *watcherSaga() {\\n  yield takeLatest('api/LOAD_PACKAGE_INFO', fetchPackageInfo)\\n}\\n\\nfunction *fetchPackageInfo () {\\n  console.log('fetchPackageInfo saga triggered')\\n  try {\\n    const data = yield call(() => axios.get('/package.json').then(r => fromJS(r.data)))\\n    yield put({ type: \\\"api/LOAD_PACKAGE_INFO_SUCCESS\\\", data })\\n  } catch (error) {\\n    console.log('error', error)\\n    yield put({ type: \\\"api/LOAD_PACKAGE_INFO_ERROR\\\", error: error.message })\\n    // throw new Error(error)\\n  }\\n}\\n\\nconst sagas = {\\n  watcherSaga,\\n  fetchPackageInfo\\n}\\n\\n// define all action/reducer pairs here... add \\\"type\\\" attributes for\\nexport const actionReducers = [\\n  {\\n    loadPackageInfo: () => ({ type: 'api/LOAD_PACKAGE_INFO' }),\\n    reducer: state => state.set('package', new Resource({ isLoading: true, data: state.getIn(['package', 'data']) }))\\n  },\\n  {\\n    loadPackageInfoSuccess: (data) => ({ type: 'api/LOAD_PACKAGE_INFO_SUCCESS', data }),\\n    reducer: (state, action) => state\\n                                  .set('package', new Resource({ isLoading: false, success: true, data: action.data }))\\n                                  .update('timesLoaded', count => count + 1)\\n  },\\n  {\\n    loadPackageInfoError: (error) => ({ type: 'api/LOAD_PACKAGE_INFO_ERROR', error }),\\n    reducer: (state, action) => state.set('package', new Resource({ error: action.error, success: false }))\\n  }\\n]\\n\\nexport default automap({ sagas, namespace, actionReducers, initialState, selectors })\\n\"]}",
headerContent: undefined,
mtime: 1529006029917,
devLibsRequired : undefined,
ac : undefined,
_ : {}
}
